# è¯·ä½ æ¥å®žçŽ°ä¸€ä¸ª atoi å‡½æ•°ï¼Œä½¿å…¶èƒ½å°†å­—ç¬¦ä¸²è½¬æ¢æˆæ•´æ•°ã€‚
#
#  é¦–å…ˆï¼Œè¯¥å‡½æ•°ä¼šæ ¹æ®éœ€è¦ä¸¢å¼ƒæ— ç”¨çš„å¼€å¤´ç©ºæ ¼å­—ç¬¦ï¼Œç›´åˆ°å¯»æ‰¾åˆ°ç¬¬ä¸€ä¸ªéžç©ºæ ¼çš„å­—ç¬¦ä¸ºæ­¢ã€‚æŽ¥ä¸‹æ¥çš„è½¬åŒ–è§„åˆ™å¦‚ä¸‹ï¼š
#
#
#  å¦‚æžœç¬¬ä¸€ä¸ªéžç©ºå­—ç¬¦ä¸ºæ­£æˆ–è€…è´Ÿå·æ—¶ï¼Œåˆ™å°†è¯¥ç¬¦å·ä¸Žä¹‹åŽé¢å°½å¯èƒ½å¤šçš„è¿žç»­æ•°å­—å­—ç¬¦ç»„åˆèµ·æ¥ï¼Œå½¢æˆä¸€ä¸ªæœ‰ç¬¦å·æ•´æ•°ã€‚
#  å‡å¦‚ç¬¬ä¸€ä¸ªéžç©ºå­—ç¬¦æ˜¯æ•°å­—ï¼Œåˆ™ç›´æŽ¥å°†å…¶ä¸Žä¹‹åŽè¿žç»­çš„æ•°å­—å­—ç¬¦ç»„åˆèµ·æ¥ï¼Œå½¢æˆä¸€ä¸ªæ•´æ•°ã€‚
#  è¯¥å­—ç¬¦ä¸²åœ¨æœ‰æ•ˆçš„æ•´æ•°éƒ¨åˆ†ä¹‹åŽä¹Ÿå¯èƒ½ä¼šå­˜åœ¨å¤šä½™çš„å­—ç¬¦ï¼Œé‚£ä¹ˆè¿™äº›å­—ç¬¦å¯ä»¥è¢«å¿½ç•¥ï¼Œå®ƒä»¬å¯¹å‡½æ•°ä¸åº”è¯¥é€ æˆå½±å“ã€‚
#
#
#  æ³¨æ„ï¼šå‡å¦‚è¯¥å­—ç¬¦ä¸²ä¸­çš„ç¬¬ä¸€ä¸ªéžç©ºæ ¼å­—ç¬¦ä¸æ˜¯ä¸€ä¸ªæœ‰æ•ˆæ•´æ•°å­—ç¬¦ã€å­—ç¬¦ä¸²ä¸ºç©ºæˆ–å­—ç¬¦ä¸²ä»…åŒ…å«ç©ºç™½å­—ç¬¦æ—¶ï¼Œåˆ™ä½ çš„å‡½æ•°ä¸éœ€è¦è¿›è¡Œè½¬æ¢ï¼Œå³æ— æ³•è¿›è¡Œæœ‰æ•ˆè½¬æ¢ã€‚
#
#  åœ¨ä»»ä½•æƒ…å†µä¸‹ï¼Œè‹¥å‡½æ•°ä¸èƒ½è¿›è¡Œæœ‰æ•ˆçš„è½¬æ¢æ—¶ï¼Œè¯·è¿”å›ž 0 ã€‚
#
#  æç¤ºï¼š
#
#
#  æœ¬é¢˜ä¸­çš„ç©ºç™½å­—ç¬¦åªåŒ…æ‹¬ç©ºæ ¼å­—ç¬¦ ' ' ã€‚
#  å‡è®¾æˆ‘ä»¬çš„çŽ¯å¢ƒåªèƒ½å­˜å‚¨ 32 ä½å¤§å°çš„æœ‰ç¬¦å·æ•´æ•°ï¼Œé‚£ä¹ˆå…¶æ•°å€¼èŒƒå›´ä¸º [âˆ’231, 231 âˆ’ 1]ã€‚å¦‚æžœæ•°å€¼è¶…è¿‡è¿™ä¸ªèŒƒå›´ï¼Œè¯·è¿”å›ž INT_MAX (231
#  âˆ’ 1) æˆ– INT_MIN (âˆ’231) ã€‚
#
#
#
#
#  ç¤ºä¾‹ 1:
#
#  è¾“å…¥: "42"
# è¾“å‡º: 42
#
#
#  ç¤ºä¾‹ 2:
#
#  è¾“å…¥: "   -42"
# è¾“å‡º: -42
# è§£é‡Š: ç¬¬ä¸€ä¸ªéžç©ºç™½å­—ç¬¦ä¸º '-', å®ƒæ˜¯ä¸€ä¸ªè´Ÿå·ã€‚
# Â     æˆ‘ä»¬å°½å¯èƒ½å°†è´Ÿå·ä¸ŽåŽé¢æ‰€æœ‰è¿žç»­å‡ºçŽ°çš„æ•°å­—ç»„åˆèµ·æ¥ï¼Œæœ€åŽå¾—åˆ° -42 ã€‚
#
#
#  ç¤ºä¾‹ 3:
#
#  è¾“å…¥: "4193 with words"
# è¾“å‡º: 4193
# è§£é‡Š: è½¬æ¢æˆªæ­¢äºŽæ•°å­— '3' ï¼Œå› ä¸ºå®ƒçš„ä¸‹ä¸€ä¸ªå­—ç¬¦ä¸ä¸ºæ•°å­—ã€‚
#
#
#  ç¤ºä¾‹ 4:
#
#  è¾“å…¥: "words and 987"
# è¾“å‡º: 0
# è§£é‡Š: ç¬¬ä¸€ä¸ªéžç©ºå­—ç¬¦æ˜¯ 'w', ä½†å®ƒä¸æ˜¯æ•°å­—æˆ–æ­£ã€è´Ÿå·ã€‚
#      å› æ­¤æ— æ³•æ‰§è¡Œæœ‰æ•ˆçš„è½¬æ¢ã€‚
#
#  ç¤ºä¾‹ 5:
#
#  è¾“å…¥: "-91283472332"
# è¾“å‡º: -2147483648
# è§£é‡Š: æ•°å­— "-91283472332" è¶…è¿‡ 32 ä½æœ‰ç¬¦å·æ•´æ•°èŒƒå›´ã€‚
# Â     å› æ­¤è¿”å›ž INT_MIN (âˆ’231) ã€‚
#
#  Related Topics æ•°å­¦ å­—ç¬¦ä¸²
#  ðŸ‘ 779 ðŸ‘Ž 0


# leetcode submit region begin(Prohibit modification and deletion)
# 1 è§£ç­”æˆåŠŸ: æ‰§è¡Œè€—æ—¶:40 ms,å‡»è´¥äº†91.73% çš„Python3ç”¨æˆ· å†…å­˜æ¶ˆè€—:13.8 MB,å‡»è´¥äº†14.32% çš„Python3ç”¨æˆ·
# import re
# class Solution:
#     def myAtoi(self, str: str) -> int:
#         res = re.findall(r"^\s*[+-]?\d+", str)
#         if not res:
#             return 0
#         res = int(res[0])
#         if res > 2**31 - 1:
#             return 2**31 - 1
#         if res < -2**31:
#             return -2**31
#         return res

# 2 è§£ç­”æˆåŠŸ: æ‰§è¡Œè€—æ—¶:44 ms,å‡»è´¥äº†78.44% çš„Python3ç”¨æˆ· å†…å­˜æ¶ˆè€—:13.7 MB,å‡»è´¥äº†42.06% çš„Python3ç”¨æˆ·
# class Solution:
#     def myAtoi(self, str: str) -> int:
#         i = 0
#         n = len(str)
#         while i < n and str[i] == ' ':
#             i = i + 1
#         if n == 0 or i == n:
#             return 0
#         flag = 1
#         if str[i] == '-':
#             flag = -1
#         if str[i] == '+' or str[i] == '-':
#             i = i + 1
#         INT_MAX = 2 ** 31 - 1
#         INT_MIN = -2 ** 31
#         ans = 0
#         while i < n and '0' <= str[i] <= '9':
#             ans = ans * 10 + int(str[i]) - int('0')
#             i += 1
#             if (ans - 1 > INT_MAX):
#                 break
#
#         ans = ans * flag
#         if ans > INT_MAX:
#             return INT_MAX
#         if ans < INT_MIN:
#             return INT_MIN
#         return ans

# 3 è§£ç­”æˆåŠŸ: æ‰§è¡Œè€—æ—¶:48 ms,å‡»è´¥äº†58.30% çš„Python3ç”¨æˆ· å†…å­˜æ¶ˆè€—:13.8 MB,å‡»è´¥äº†15.65% çš„Python3ç”¨æˆ·
# class Solution:
#     def myAtoi(self, str: str) -> int:
#         ans, index, sign, n = 0, 0, 1, len(str)
#         # 1 empty string
#         if n == 0:
#             return 0
#         # 2 remove spaces
#         while index < n and str[index] == " ": # index < n åœ¨å‰é¢
#             index += 1
#         # 3 handle signs
#         if index < n: # é˜²æ­¢" "
#             if str[index] == "+" or str[index] == "-":
#                 sign = 1 if str[index] == "+" else -1
#                 index += 1
#         # 4 convert number and avoid overflow
#         INT_MAX = 2 ** 31 - 1
#         INT_MIN = -2 ** 31
#         while index < n:
#             digit = ord(str[index]) - ord("0")
#             if digit < 0 or digit > 9:
#                 break
#             ans = 10 * ans + digit
#             # check if ans orverflow
#             if sign * ans > INT_MAX or sign * ans < INT_MIN:
#                 return INT_MAX if sign == 1 else INT_MIN
#             index += 1
#         return sign * ans

# 4 è§£ç­”æˆåŠŸ: æ‰§è¡Œè€—æ—¶:64 ms,å‡»è´¥äº†5.74% çš„Python3ç”¨æˆ· å†…å­˜æ¶ˆè€—:13.8 MB,å‡»è´¥äº†16.97% çš„Python3ç”¨æˆ·
class Solution:
    def myAtoi(self, str: str) -> int:
        str = str.strip()
        if len(str) == 0:
            return 0
        list_str = list(str.strip())
        sign = -1 if list_str[0] == "-" else 1
        if list_str[0] in ["+", "-"]:
            del list_str[0]
        ans, i = 0, 0
        while i < len(list_str) and list_str[i].isdigit():
            ans = 10*ans + ord(list_str[i]) - ord("0")
            i += 1
        # return max(min(sign*ans, 2**31-1), -2**31)
        return min(max(sign*ans, -2**31), 2**31-1)


# leetcode submit region end(Prohibit modification and deletion)
